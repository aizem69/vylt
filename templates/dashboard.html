{% extends 'layout.html' %} {% block content %}
<div class="row justify-content-center">
  <div class="col-lg-8">
    <h2 class="text-center mb-3">Welcome, {{ name }}!</h2>

    <div class="card bg-secondary text-white mb-4">
      <div class="card-body text-center">
        <p class="mb-1">BMI: <strong>{{ bmi }}</strong></p>
        <p class="mb-1">Status: <strong>{{ status_bmi }}</strong></p>
        <p>Goal: <strong>{{ goal }}</strong></p>
      </div>
    </div>

    <h4>Weekly Tracker</h4>

    <form method="POST" action="/update_week">
      <ul class="list-group mb-3">
        {% for day in progress_done %}
        <li
          class="list-group-item d-flex justify-content-between align-items-center bg-dark text-white"
        >
          {{ plan[loop.index0] }} <input type="checkbox" name="done_days"
          value="{{ day }}" {% if progress_done[day] == 'yes' %}checked{% endif
          %}>
        </li>
        {% endfor %}
      </ul>
      <button type="submit" class="btn btn-success w-100">
        Update Progress
      </button>
    </form>

    <h3>Your Meal Plan</h3>
    <ul>
      {% for item in meal_plan %}
      <li>{{ item }}</li>
      {% endfor %}
    </ul>

    <div class="progress-summary">
      <h3>Weekly Progress: {{ progress_percentage }}%</h3>
      <p>{{ motivation }}</p>
    </div>

    <h5 class="mt-4">Plan Summary:</h5>
    <p>
      You're following the <strong>{{ goal }}</strong> goal plan this week. Keep
      grinding!
    </p>

    <h5 class="mt-4">Progress Feedback</h5>
    <h5 class="mt-4">Suggested Meal Plan</h5>
    <ul class="list-group">
      {% for meal in meal_plan %}
      <li class="list-group-item bg-dark text-white border-light">
        {{ meal }}
      </li>
      {% endfor %}
    </ul>

    <div class="alert alert-info">{{ feedback }}</div>

    <div class="d-flex justify-content-between">
      <a href="/progress" class="btn btn-outline-light">Track Weight</a>
      <a href="/logout" class="btn btn-danger">Logout</a>
    </div>
  </div>
</div>
{% endblock %}
